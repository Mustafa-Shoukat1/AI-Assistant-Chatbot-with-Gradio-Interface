import{B as Ce}from"./Button-6TkjCjn0.js";import{B as We}from"./BlockTitle-yhl9OFRY.js";import{S as Oe}from"./Index-p668Ffoz.js";import{E as Ve}from"./Empty-tho4TGhF.js";import{L as Te}from"./LineChart-CKh1Fdep.js";import{e as je}from"./vega-embed.module-DVf_KWTG.js";import"./index-BKm0EBOh.js";import"./svelte/svelte.js";import"./Info-DpYOu-hg.js";import"./dsv-DB8NKgIY.js";const{SvelteComponent:Ae,append:Le,assign:Be,attr:he,binding_callbacks:Ee,check_outros:fe,create_component:q,destroy_component:D,detach:C,element:be,empty:ye,flush:f,get_spread_object:Ie,get_spread_update:Ne,group_outros:_e,init:qe,insert:W,mount_component:M,noop:me,safe_not_equal:De,set_data:xe,space:$,text:ke,transition_in:y,transition_out:F}=window.__gradio__svelte__internal,{onMount:Me}=window.__gradio__svelte__internal;function de(n){let e,t;const i=[{autoscroll:n[2].autoscroll},{i18n:n[2].i18n},n[10]];let r={};for(let a=0;a<i.length;a+=1)r=Be(r,i[a]);return e=new Oe({props:r}),e.$on("clear_status",n[34]),{c(){q(e.$$.fragment)},m(a,_){M(e,a,_),t=!0},p(a,_){const s=_[0]&1028?Ne(i,[_[0]&4&&{autoscroll:a[2].autoscroll},_[0]&4&&{i18n:a[2].i18n},_[0]&1024&&Ie(a[10])]):{};e.$set(s)},i(a){t||(y(e.$$.fragment,a),t=!0)},o(a){F(e.$$.fragment,a),t=!1},d(a){D(e,a)}}}function Re(n){let e;return{c(){e=ke(n[3])},m(t,i){W(t,e,i)},p(t,i){i[0]&8&&xe(e,t[3])},d(t){t&&C(e)}}}function Ue(n){let e,t;return e=new Ve({props:{unpadded_box:!0,$$slots:{default:[Xe]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment)},m(i,r){M(e,i,r),t=!0},p(i,r){const a={};r[1]&262144&&(a.$$scope={dirty:r,ctx:i}),e.$set(a)},i(i){t||(y(e.$$.fragment,i),t=!0)},o(i){F(e.$$.fragment,i),t=!1},d(i){D(e,i)}}}function He(n){let e,t=n[1]&&ge(n);return{c(){t&&t.c(),e=ye()},m(i,r){t&&t.m(i,r),W(i,e,r)},p(i,r){i[1]?t?t.p(i,r):(t=ge(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:me,o:me,d(i){i&&C(e),t&&t.d(i)}}}function Xe(n){let e,t;return e=new Te({}),{c(){q(e.$$.fragment)},m(i,r){M(e,i,r),t=!0},i(i){t||(y(e.$$.fragment,i),t=!0)},o(i){F(e.$$.fragment,i),t=!1},d(i){D(e,i)}}}function ge(n){let e,t;return{c(){e=be("p"),t=ke(n[1]),he(e,"class","caption svelte-10k9m4v")},m(i,r){W(i,e,r),Le(e,t)},p(i,r){r[0]&2&&xe(t,i[1])},d(i){i&&C(e)}}}function Ye(n){let e,t,i,r,a,_,s,m,d,o=n[10]&&de(n);t=new We({props:{show_label:n[7],info:void 0,$$slots:{default:[Re]},$$scope:{ctx:n}}});const j=[He,Ue],g=[];function O(u,c){return u[0]?0:1}return _=O(n),s=g[_]=j[_](n),{c(){o&&o.c(),e=$(),q(t.$$.fragment),i=$(),r=be("div"),a=$(),s.c(),m=ye(),he(r,"class","svelte-10k9m4v")},m(u,c){o&&o.m(u,c),W(u,e,c),M(t,u,c),W(u,i,c),W(u,r,c),n[35](r),W(u,a,c),g[_].m(u,c),W(u,m,c),d=!0},p(u,c){u[10]?o?(o.p(u,c),c[0]&1024&&y(o,1)):(o=de(u),o.c(),y(o,1),o.m(e.parentNode,e)):o&&(_e(),F(o,1,1,()=>{o=null}),fe());const x={};c[0]&128&&(x.show_label=u[7]),c[0]&8|c[1]&262144&&(x.$$scope={dirty:c,ctx:u}),t.$set(x);let S=_;_=O(u),_===S?g[_].p(u,c):(_e(),F(g[S],1,1,()=>{g[S]=null}),fe(),s=g[_],s?s.p(u,c):(s=g[_]=j[_](u),s.c()),y(s,1),s.m(m.parentNode,m))},i(u){d||(y(o),y(t.$$.fragment,u),y(s),d=!0)},o(u){F(o),F(t.$$.fragment,u),F(s),d=!1},d(u){u&&(C(e),C(i),C(r),C(a),C(m)),o&&o.d(u),D(t,u),n[35](null),g[_].d(u)}}}function Ge(n){let e,t;return e=new Ce({props:{visible:n[6],elem_id:n[4],elem_classes:n[5],scale:n[8],min_width:n[9],allow_overflow:!1,padding:!0,height:n[11],$$slots:{default:[Ye]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment)},m(i,r){M(e,i,r),t=!0},p(i,r){const a={};r[0]&64&&(a.visible=i[6]),r[0]&16&&(a.elem_id=i[4]),r[0]&32&&(a.elem_classes=i[5]),r[0]&256&&(a.scale=i[8]),r[0]&512&&(a.min_width=i[9]),r[0]&2048&&(a.height=i[11]),r[0]&5263|r[1]&262144&&(a.$$scope={dirty:r,ctx:i}),e.$set(a)},i(i){t||(y(e.$$.fragment,i),t=!0)},o(i){F(e.$$.fragment,i),t=!1},d(i){D(e,i)}}}function Je(n,e,t){let i,r,a,_,{value:s}=e,{x:m}=e,{y:d}=e,{color:o=null}=e,{title:j=null}=e,{x_title:g=null}=e,{y_title:O=null}=e,{color_title:u=null}=e,{x_bin:c=null}=e,{y_aggregate:x=void 0}=e,{color_map:S=null}=e,{x_lim:A=null}=e,{y_lim:R=null}=e,{caption:ee=null}=e,{sort:G=null}=e;function we(l){if(l==="x")return"ascending";if(l==="-x")return"descending";if(l==="y")return{field:d,order:"ascending"};if(l==="-y")return{field:d,order:"descending"};if(l===null)return;if(Array.isArray(l))return l}let{_selectable:U=!1}=e,{target:J}=e,H,{gradio:E}=e,z,K=!1;const ve={s:1,m:60,h:60*60,d:24*60*60};let I,L;function Fe(l){let k=l.columns.indexOf(m),V=l.columns.indexOf(d),b=o?l.columns.indexOf(o):null;return l.data.map(B=>{const w={[m]:B[k],[d]:B[V]};return o&&b!==null&&(w[o]=B[b]),w})}let h,P=window.getComputedStyle(J),N,Q=!1,te;function le(){if(N&&N.finalize(),!s)return;te=h.offsetWidth;const l=Se();if(!l)return;let k=new ResizeObserver(()=>{te===0&&h.offsetWidth!==0&&s.datatypes[m]==="nominal"?le():N.signal("width",h.offsetWidth).run()});je(h,l,{actions:!1}).then(function(V){N=V.view,k.observe(h);var b;U&&N.addSignalListener("brush",function(B,w){if(Object.keys(w).length===0)return;clearTimeout(b);let v=w[Object.keys(w)[0]];a&&(v=[v[0]/1e3,v[1]/1e3]),K?X=()=>{E.dispatch("select",{value:v,index:v,selected:!0})}:b=setTimeout(function(){E.dispatch("select",{value:v,index:v,selected:!0})},250)})})}let X=null;Me(()=>{t(32,Q=!0),h.addEventListener("mousedown",()=>{K=!0}),h.addEventListener("mouseup",()=>{K=!1,X&&(X(),X=null)})});function Se(){if(!s)return null;let l=P.getPropertyValue("--color-accent"),k=P.getPropertyValue("--body-text-color"),V=P.getPropertyValue("--border-color-primary"),b=P.fontFamily,B=P.getPropertyValue("--block-title-text-weight");const w=T=>T.endsWith("px")?parseFloat(T.slice(0,-2)):12;let v=w(P.getPropertyValue("--text-md")),Y=w(P.getPropertyValue("--text-sm"));return{$schema:"https://vega.github.io/schema/vega-lite/v5.17.0.json",background:"transparent",config:{autosize:{type:"fit",contains:"padding"},axis:{labelFont:b,labelColor:k,titleFont:b,titleColor:k,titlePadding:8,tickColor:V,labelFontSize:Y,gridColor:V,titleFontWeight:"normal",titleFontSize:Y,labelFontWeight:"normal",domain:!1,labelAngle:0},legend:{labelColor:k,labelFont:b,titleColor:k,titleFont:b,titleFontWeight:"normal",titleFontSize:Y,labelFontWeight:"normal",offset:2},title:{color:k,font:b,fontSize:v,fontWeight:B,anchor:"middle"},view:{stroke:V},mark:{stroke:s.mark!=="bar"?l:void 0,fill:s.mark==="bar"?l:void 0,cursor:"crosshair"}},data:{name:"data"},datasets:{data:H},layer:["plot",...s.mark==="line"?["hover"]:[]].map(T=>({encoding:{size:s.mark==="line"?T=="plot"?{condition:{empty:!1,param:"hoverPlot",value:3},value:2}:{condition:{empty:!1,param:"hover",value:100},value:0}:void 0,opacity:T==="plot"?void 0:{condition:{empty:!1,param:"hover",value:1},value:0},x:{axis:{},field:m,title:g||m,type:s.datatypes[m],scale:_?{domain:_}:void 0,bin:z?{step:z}:void 0,sort:r},y:{axis:{},field:d,title:O||d,type:s.datatypes[d],scale:R?{domain:R}:void 0,aggregate:L?I:void 0},color:o?{field:o,legend:{orient:"bottom",title:u},scale:s.datatypes[o]==="nominal"?{domain:i,range:S?i.map(p=>S[p]):void 0}:{range:[100,200,300,400,500,600,700,800,900].map(p=>P.getPropertyValue("--primary-"+p)),interpolate:"hsl"},type:s.datatypes[o]}:void 0,tooltip:[{field:d,type:s.datatypes[d],aggregate:L?I:void 0,title:O||d},{field:m,type:s.datatypes[m],title:g||m,format:a?"%Y-%m-%d %H:%M:%S":void 0,bin:z?{step:z}:void 0},...o?[{field:o,type:s.datatypes[o]}]:[]]},strokeDash:{},mark:{clip:!0,type:T==="hover"?"point":s.mark},name:T})),params:[...s.mark==="line"?[{name:"hoverPlot",select:{clear:"mouseout",fields:o?[o]:[],nearest:!0,on:"mouseover",type:"point"},views:["hover"]},{name:"hover",select:{clear:"mouseout",nearest:!0,on:"mouseover",type:"point"},views:["hover"]}]:[],...U?[{name:"brush",select:{encodings:["x"],mark:{fill:"gray",fillOpacity:.3,stroke:"none"},type:"interval"},views:["plot"]}]:[]],width:h.offsetWidth,title:j||void 0}}let{label:ie="Textbox"}=e,{elem_id:ne=""}=e,{elem_classes:se=[]}=e,{visible:re=!0}=e,{show_label:ae}=e,{scale:oe=null}=e,{min_width:ue=void 0}=e,{loading_status:Z=void 0}=e,{height:ce=void 0}=e;const ze=()=>E.dispatch("clear_status",Z);function Pe(l){Ee[l?"unshift":"push"](()=>{h=l,t(12,h)})}return n.$$set=l=>{"value"in l&&t(0,s=l.value),"x"in l&&t(13,m=l.x),"y"in l&&t(14,d=l.y),"color"in l&&t(15,o=l.color),"title"in l&&t(16,j=l.title),"x_title"in l&&t(17,g=l.x_title),"y_title"in l&&t(18,O=l.y_title),"color_title"in l&&t(19,u=l.color_title),"x_bin"in l&&t(20,c=l.x_bin),"y_aggregate"in l&&t(21,x=l.y_aggregate),"color_map"in l&&t(22,S=l.color_map),"x_lim"in l&&t(23,A=l.x_lim),"y_lim"in l&&t(24,R=l.y_lim),"caption"in l&&t(1,ee=l.caption),"sort"in l&&t(25,G=l.sort),"_selectable"in l&&t(26,U=l._selectable),"target"in l&&t(27,J=l.target),"gradio"in l&&t(2,E=l.gradio),"label"in l&&t(3,ie=l.label),"elem_id"in l&&t(4,ne=l.elem_id),"elem_classes"in l&&t(5,se=l.elem_classes),"visible"in l&&t(6,re=l.visible),"show_label"in l&&t(7,ae=l.show_label),"scale"in l&&t(8,oe=l.scale),"min_width"in l&&t(9,ue=l.min_width),"loading_status"in l&&t(10,Z=l.loading_status),"height"in l&&t(11,ce=l.height)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(28,H=s?Fe(s):[]),n.$$.dirty[0]&268468225&&(i=o&&s&&s.datatypes[o]==="nominal"?Array.from(new Set(H.map(l=>l[o]))):[]),n.$$.dirty[0]&33554432&&(r=we(G)),n.$$.dirty[0]&8193&&t(33,a=s&&s.datatypes[m]==="temporal"),n.$$.dirty[0]&8388608|n.$$.dirty[1]&4&&(_=A&&a?[A[0]*1e3,A[1]*1e3]:A),n.$$.dirty[0]&1048576&&t(29,z=c?typeof c=="string"?1e3*parseInt(c.substring(0,c.length-1))*ve[c[c.length-1]]:c:void 0),n.$$.dirty[0]&538976257|n.$$.dirty[1]&1&&s&&(s.mark==="point"?(t(31,L=z!==void 0),t(30,I=x||L?"sum":void 0)):(t(31,L=z!==void 0||s.datatypes[m]==="nominal"),t(30,I=x||"sum"))),n.$$.dirty[0]&1138745346|n.$$.dirty[1]&2&&Q&&le()},[s,ee,E,ie,ne,se,re,ae,oe,ue,Z,ce,h,m,d,o,j,g,O,u,c,x,S,A,R,G,U,J,H,z,I,L,Q,a,ze,Pe]}class st extends Ae{constructor(e){super(),qe(this,e,Je,Ge,De,{value:0,x:13,y:14,color:15,title:16,x_title:17,y_title:18,color_title:19,x_bin:20,y_aggregate:21,color_map:22,x_lim:23,y_lim:24,caption:1,sort:25,_selectable:26,target:27,gradio:2,label:3,elem_id:4,elem_classes:5,visible:6,show_label:7,scale:8,min_width:9,loading_status:10,height:11},null,[-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),f()}get x(){return this.$$.ctx[13]}set x(e){this.$$set({x:e}),f()}get y(){return this.$$.ctx[14]}set y(e){this.$$set({y:e}),f()}get color(){return this.$$.ctx[15]}set color(e){this.$$set({color:e}),f()}get title(){return this.$$.ctx[16]}set title(e){this.$$set({title:e}),f()}get x_title(){return this.$$.ctx[17]}set x_title(e){this.$$set({x_title:e}),f()}get y_title(){return this.$$.ctx[18]}set y_title(e){this.$$set({y_title:e}),f()}get color_title(){return this.$$.ctx[19]}set color_title(e){this.$$set({color_title:e}),f()}get x_bin(){return this.$$.ctx[20]}set x_bin(e){this.$$set({x_bin:e}),f()}get y_aggregate(){return this.$$.ctx[21]}set y_aggregate(e){this.$$set({y_aggregate:e}),f()}get color_map(){return this.$$.ctx[22]}set color_map(e){this.$$set({color_map:e}),f()}get x_lim(){return this.$$.ctx[23]}set x_lim(e){this.$$set({x_lim:e}),f()}get y_lim(){return this.$$.ctx[24]}set y_lim(e){this.$$set({y_lim:e}),f()}get caption(){return this.$$.ctx[1]}set caption(e){this.$$set({caption:e}),f()}get sort(){return this.$$.ctx[25]}set sort(e){this.$$set({sort:e}),f()}get _selectable(){return this.$$.ctx[26]}set _selectable(e){this.$$set({_selectable:e}),f()}get target(){return this.$$.ctx[27]}set target(e){this.$$set({target:e}),f()}get gradio(){return this.$$.ctx[2]}set gradio(e){this.$$set({gradio:e}),f()}get label(){return this.$$.ctx[3]}set label(e){this.$$set({label:e}),f()}get elem_id(){return this.$$.ctx[4]}set elem_id(e){this.$$set({elem_id:e}),f()}get elem_classes(){return this.$$.ctx[5]}set elem_classes(e){this.$$set({elem_classes:e}),f()}get visible(){return this.$$.ctx[6]}set visible(e){this.$$set({visible:e}),f()}get show_label(){return this.$$.ctx[7]}set show_label(e){this.$$set({show_label:e}),f()}get scale(){return this.$$.ctx[8]}set scale(e){this.$$set({scale:e}),f()}get min_width(){return this.$$.ctx[9]}set min_width(e){this.$$set({min_width:e}),f()}get loading_status(){return this.$$.ctx[10]}set loading_status(e){this.$$set({loading_status:e}),f()}get height(){return this.$$.ctx[11]}set height(e){this.$$set({height:e}),f()}}export{st as default};
//# sourceMappingURL=Index-R-dKKBwU.js.map
